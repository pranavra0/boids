<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOIDS</title>
    <style>
        :root {
            --bg-color: #000000;
            --fg-color: #e0e0e0;        
            --dim-color: #333333;   
            --border-color: #555555;    
            --accent-color: #ff5c00; 
            --track-color: #1a1a1a;
            
            --font-stack: 'Menlo', 'Consolas', 'Monaco', monospace;
        }

        body {
            margin: 0;
            overflow: hidden;
            background-color: var(--bg-color);
            font-family: var(--font-stack);
            color: var(--fg-color);
            font-size: 11px;
        }

        /* Layout */
        #ui-container {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            height: auto;
            z-index: 100;
            user-select: none;
        }

        /* Flaps */
        #sidebar {
            width: 24px;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--border-color);
            border-right: none;
            background: var(--bg-color);
        }

        .flap {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            padding: 15px 2px;
            cursor: pointer;
            text-align: center;
            text-transform: uppercase;
            font-weight: bold;
            color: var(--dim-color);
            border-bottom: 1px solid var(--border-color);
            transition: color 0.1s, background 0.1s;
        }

        .flap:hover { color: var(--fg-color); }
        
        .flap.active {
            background: var(--accent-color);
            color: #000;
        }

        #panel-container {
            width: 200px; 
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .panel {
            display: none; 
            padding: 12px;
        }
        
        .panel.active { display: block; }

        h1 {
            margin: 0 0 12px 0;
            font-size: 10px;
            text-transform: uppercase;
            border-bottom: 1px solid var(--dim-color);
            padding-bottom: 4px;
            color: var(--dim-color);
            letter-spacing: 1px;
        }

        /* --- CONTROLS --- */
        .control-group {
            margin-bottom: 12px;
            display: flex;
            flex-direction: column;
        }

        .control-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
        }

        .label {
            font-size: 9px;
            text-transform: uppercase;
            color: #888;
        }

        .val-display {
            font-size: 10px;
            color: var(--accent-color);
            font-family: var(--font-stack);
        }

        /* The arduous process of making the slider white */
        
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            margin: 4px 0;
            height: 10px;
            background: #333;
            cursor: pointer;
            border-radius: 0;
            overflow: hidden; 
        }

        input[type=range]:focus {
            outline: none;
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 10px;
            cursor: pointer;
            background: #333; 
            border: none;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 10px;
            width: 0px;
            background: transparent;
            box-shadow: -100vw 0 0 100vw #ffffff; 
            border: none;
        }

        /* FIREFOX */
        input[type=range]::-moz-range-track {
            width: 100%;
            height: 10px;
            cursor: pointer;
            background: #333;
            border: none;
        }

        input[type=range]::-moz-range-progress {
            background-color: #ffffff;
            height: 10px;
        }

        input[type=range]::-moz-range-thumb {
            border: none;
            height: 0px;
            width: 0px;
            opacity: 0;
        }

        /* Button Style */
        button {
            width: 100%;
            background: var(--dim-color);
            border: none;
            color: var(--fg-color);
            padding: 8px;
            text-transform: uppercase;
            font-family: var(--font-stack);
            font-size: 9px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover { background: var(--accent-color); color: #000; }

    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>
<body>

    <div id="ui-container">
        <div id="sidebar">
            <div class="flap active" data-target="panel-boids">BOIDS</div>
            <div class="flap" data-target="panel-world">WORLD</div>
        </div>

        <!-- MAIN PANEL CONTAINER -->
        <div id="panel-container">
            
            <div id="panel-boids" class="panel active">
                <h1>Swarm Data</h1>
                
                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Cohesion</span>
                        <span id="val-cohesion" class="val-display">0.005</span>
                    </div>
                    <input type="range" id="cohesion" min="0" max="0.02" step="0.001">
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Separation</span>
                        <span id="val-separation" class="val-display">0.15</span>
                    </div>
                    <input type="range" id="separation" min="0" max="0.5" step="0.01">
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Alignment</span>
                        <span id="val-alignment" class="val-display">0.05</span>
                    </div>
                    <input type="range" id="alignment" min="0" max="0.2" step="0.001">
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Vis. Range</span>
                        <span id="val-range" class="val-display">100</span>
                    </div>
                    <input type="range" id="visualRange" min="10" max="300" step="10">
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Max Speed</span>
                        <span id="val-speed" class="val-display">6</span>
                    </div>
                    <input type="range" id="speedLimit" min="1" max="20" step="1">
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Count</span>
                        <span id="val-count" class="val-display">200</span>
                    </div>
                    <input type="range" id="numBoids" min="10" max="500" step="10">
                </div>
            </div>

            <div id="panel-world" class="panel">
                <h1>World Params</h1>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Bound Size</span>
                        <span id="val-boundSize" class="val-display">400</span>
                    </div>
                    <input type="range" id="boundarySize" min="100" max="1000" step="50">
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <span class="label">Wall Force</span>
                        <span id="val-turnFactor" class="val-display">0.5</span>
                    </div>
                    <input type="range" id="boundaryTurnFactor" min="0.1" max="5.0" step="0.1">
                </div>

                <button id="reset-btn">Reset Sim</button>
            </div>

        </div>
    </div>

    <script src="boids.js"></script>
    <script src="ui.js"></script>
</body>
</html>